function mostrarNotificacion(o,e="exito"){let a=document.querySelector(".notificacion-global");a||(a=document.createElement("div"),a.className="notificacion-global",document.body.appendChild(a)),a.textContent=o,a.className=`notificacion-global ${e}`,a.style.display="block",a.style.opacity="1",setTimeout((()=>{a.style.opacity="0",setTimeout((()=>{a.style.display="none"}),300)}),3e3)}function normalizarTexto(o){return o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}function verificarImagen(o){const e=new Image;return e.src=o,e.complete||e.width>0}window.carrito=JSON.parse(localStorage.getItem("carrito"))||[],window.idProductoActual="",window.aromasSeleccionados={},window.scrollPosition=0,"undefined"!=typeof module&&module.exports&&(module.exports={productos:productos,carrito:carrito,idProductoActual:idProductoActual,aromasSeleccionados:aromasSeleccionados,scrollPosition:scrollPosition});const catalogo={Satya:{"Nag Champa":{precio:1400,aromas:[{nombre:"Nag Champa",stock:5}]},Series:{precio:1200,aromas:[{nombre:"AYURVEDA TRADICIONAL",stock:2},{nombre:"CINNAMON",stock:1},{nombre:"CITRONELLA",stock:1},{nombre:"DRAGON BLOOD",stock:1},{nombre:"EUCALIPTO",stock:3},{nombre:"GOLD",stock:1},{nombre:"INCIENSO",stock:1},{nombre:"JAZMIN",stock:0},{nombre:"KARMA",stock:0},{nombre:"LAVANDA",stock:0},{nombre:"LEMONGRASS",stock:1},{nombre:"MEDITACION",stock:1},{nombre:"MIRRA",stock:0},{nombre:"MONEY",stock:0},{nombre:"MUSK",stock:1},{nombre:"NAMASTE",stock:1},{nombre:"OODH",stock:1},{nombre:"OPIUM",stock:5},{nombre:"PALO SANTO",stock:1},{nombre:"PATCHOULY",stock:1},{nombre:"REIKI",stock:6},{nombre:"ROSA",stock:1},{nombre:"ROSEMARY",stock:1},{nombre:"RUDA",stock:7},{nombre:"SALVIA BLANCA",stock:1},{nombre:"SANACION ESPIRITUAL",stock:1},{nombre:"SANDALO WOOD",stock:1},{nombre:"TULSI",stock:1},{nombre:"VAINILLA",stock:1},{nombre:"VIBRAS POSITIVAS",stock:1}]},"Super Hit":{precio:1600,aromas:[{nombre:"Super Hit",stock:5}]},"Super Hit Series":{precio:1500,aromas:[{nombre:"ARABIAN NIGHT",stock:0},{nombre:"BLUE BELL",stock:3},{nombre:"DERI AROMA",stock:3},{nombre:"DHARMA",stock:3},{nombre:"PURPLE BEAUTY",stock:3},{nombre:"YOGA RITUAL",stock:3}]}},Aromanza:{"Aceites Esenciales":{precio:1800,aromas:["Lavanda",{nombre:"Eucalipto",stock:2},{nombre:"Citronela",stock:2}]}},"Sagrada Madre":{"Palo Santo Sustentable":{precio:1800,aromas:[{nombre:"Copal",stock:4},{nombre:"Lavanda",stock:2},{nombre:"Incienso",stock:2},{nombre:"Sustentable",stock:2},{nombre:"Sándalo",stock:2},{nombre:"Romero",stock:2},{nombre:"Rosas",stock:2},{nombre:"Mirra",stock:2},{nombre:"Champa",stock:2},{nombre:"Fresias",stock:2},{nombre:"Vainilla",stock:2},{nombre:"Yagra",stock:2},{nombre:"Ruda",stock:2},{nombre:"Jazmin",stock:2},{nombre:"Pachuli",stock:2},{nombre:"Violetas",stock:2},{nombre:"Salvia",stock:2},{nombre:"canela",stock:2}]},Natural:{precio:1800,aromas:[{nombre:"Citronela - Palo Santo - Naranja",stock:4},{nombre:"Copal",stock:1},{nombre:"Incienso",stock:1},{nombre:"Mirra",stock:1},{nombre:"Ruda - Romero - Incienso",stock:1},{nombre:"Sándalo",stock:1},{nombre:"Yagra",stock:1},{nombre:"Pachuli",stock:1},{nombre:"Ámbar",stock:1},{nombre:"Benjui",stock:1},{nombre:"Mirra - Olíbano",stock:1},{nombre:"Salvia Blanca",stock:1}]},Cannabis:{precio:1800,aromas:[{nombre:"Purple Hindu Kush",stock:3},{nombre:"Lemon Haze",stock:1},{nombre:"Tropicana Cookies",stock:1},{nombre:"Blue Dream",stock:1},{nombre:"Mango Kush",stock:1},{nombre:"White Widow",stock:1}]},Yagra:{precio:1800,aromas:[{nombre:"Rosa - Vainilla",stock:3},{nombre:"Violetas - Lavanda",stock:1},{nombre:"Orquídeas - Laurel",stock:1},{nombre:"Manzanilla - Olíbano",stock:1}]},"Blend Masala":{precio:1800,aromas:[{nombre:"Maha Masala",stock:2},{nombre:"Gaia Masala",stock:1}]},"5 Elementos":{precio:1800,aromas:[{nombre:"Renacer - Agua",stock:1},{nombre:"Armonía - Tierra",stock:1},{nombre:"Alegría - Aire",stock:1},{nombre:"Fuerza - Fuego",stock:1},{nombre:"Claridad - Ether",stock:1}]},"Botánico":{precio:1800,aromas:[{nombre:"Gardenias - Caléndula",stock:2},{nombre:"Jazmín - Rosas",stock:1},{nombre:"Té Verde - Champa",stock:1},{nombre:"Magnolias",stock:1},{nombre:"Fresias",stock:1},{nombre:"Nardo - Olíbano",stock:1},{nombre:"Clavo de Olor - Rosas",stock:1}]},"Hiervas y Flores":{precio:1800,aromas:[{nombre:"Anís - Canela - Olíbano",stock:3},{nombre:"Caléndula - Manzanilla - Olíbano",stock:1},{nombre:"Eucalipto - Laurel - Cedro",stock:1},{nombre:"Incienso Blanco",stock:1},{nombre:"Lavanda y Olíbano",stock:1},{nombre:"Rosas - Olíbano",stock:1},{nombre:"Salvia Blanca",stock:1}]},Patagonia:{precio:1800,aromas:[{nombre:"Jazmín",stock:2},{nombre:"Naranja - Vainilla",stock:1},{nombre:"Neroli",stock:1},{nombre:"Palmarosa",stock:1},{nombre:"Rosa Mosqueta",stock:1},{nombre:"Ruda",stock:1},{nombre:"Tilo",stock:1},{nombre:"Lavanda Silvestre",stock:1},{nombre:"Hibiscus",stock:1},{nombre:"Yerba Mate",stock:1},{nombre:"Algarroba - Vainilla",stock:1},{nombre:"Limón",stock:1}]},"Energía Limpia":{precio:1800,aromas:[{nombre:"Renacer",stock:2},{nombre:"Revitalizar",stock:3},{nombre:"Armonizar",stock:3},{nombre:"Sanar",stock:3}]},"Triple Combinado":{precio:1800,aromas:[{nombre:"Triple Combinado",stock:4}]},"DÚO":{precio:1800,aromas:[{nombre:"Limpieza - Armonía",stock:1},{nombre:"Fortuna - Purifiación",stock:2},{nombre:"7 Poderes - Renacer",stock:2},{nombre:"Sanación - Apertura",stock:2}]},"Artesano x30":{precio:1800,aromas:[{nombre:"Lavanda",stock:1},{nombre:"Rosas",stock:2},{nombre:"Yagra",stock:2},{nombre:"Sándalo",stock:2},{nombre:"Copal",stock:2},{nombre:"Incienso",stock:2},{nombre:"Ruda - Romero - Incienso",stock:2},{nombre:"Palo Santo",stock:2},{nombre:"Palo Santo - Vainilla",stock:2},{nombre:"Palo Santo - Champa",stock:2},{nombre:"Palo Santo - Rosa",stock:2},{nombre:"Palo Santo - Jazmín",stock:2},{nombre:"Palo Santo - Lavanda",stock:2},{nombre:"Té Verde - Flor de Champa",stock:2},{nombre:"Gardenias - Caléndula",stock:2},{nombre:"Jazmín - Rosa",stock:2},{nombre:"Lemon Grass - Olíbano",stock:2},{nombre:"Flor del Árbol Paraíso",stock:2},{nombre:"Sangre de Drago",stock:2},{nombre:"Palo Santo - Jengibre",stock:2},{nombre:"Reina de la Noche - Lavanda",stock:2},{nombre:"Citronella - Naranja - Palo Santo",stock:2},{nombre:"Magnolias",stock:2},{nombre:"Clavo de Olor - Rosas",stock:2},{nombre:"Nardo - Olíbano",stock:2},{nombre:"Palo Santo Yagra",stock:2},{nombre:"Citronella del Norte",stock:2}]},"Artesano x5":{precio:1800,aromas:[{nombre:"Incienso",stock:1},{nombre:"Palo Santo - Incienso",stock:2},{nombre:"Palo Santo - Lavanda",stock:2},{nombre:"Palo Santo - Romero",stock:2},{nombre:"Palo Santo - Ruda",stock:2},{nombre:"Ruda - Romero - Incienso",stock:2},{nombre:"Sándalo",stock:2},{nombre:"Yagra",stock:2},{nombre:"Palo Santo",stock:2},{nombre:"Palo Santo - Fresias",stock:2},{nombre:"Palo Santo - Pachuli",stock:2},{nombre:"Palo Santo - Sándalo",stock:2}]},"7 Chakras":{precio:1800,aromas:[{nombre:"7 Chakras",stock:1}]},Sagrado:{precio:1800,aromas:[{nombre:"Amor Eterno",stock:2},{nombre:"Encuentro Divino",stock:1},{nombre:"Guía Espiritual",stock:1},{nombre:"Tercer Ojo",stock:1},{nombre:"Kundalini",stock:1},{nombre:"Yoga",stock:1},{nombre:"Meditación",stock:1},{nombre:"Samadhi",stock:1}]},Ritual:{precio:1800,aromas:[{nombre:"Limpieza Energética",stock:2},{nombre:"Luna Llena",stock:1},{nombre:"Tranquilidad",stock:1},{nombre:"Purificación",stock:1},{nombre:"Brillar",stock:1},{nombre:"Fuerza Interior",stock:1},{nombre:"Amor Propio",stock:1},{nombre:"Ritual del Cacao",stock:1},{nombre:"Abundancia",stock:1},{nombre:"Manifestar",stock:1},{nombre:"Gratitud",stock:1},{nombre:"Empoderamiento",stock:1}]},"Palo Santo Sustentable x4":{precio:1800,aromas:[{nombre:"Palo Santo",stock:2},{nombre:"Palo Santo - Sándalo",stock:1},{nombre:"Palo Santo - Olíbano",stock:1},{nombre:"Palo Santo - Lavanda",stock:1}]},"India Masala":{precio:1800,aromas:[{nombre:"Sol: Fuerza y Energía",stock:2},{nombre:"Día: Enfoque y Claridad",stock:1},{nombre:"Luz: Guía Espiritual",stock:1},{nombre:"Alma: Calma y Conexión",stock:1}]},"India Black":{precio:1800,aromas:[{nombre:"Luna - Intuición",stock:2},{nombre:"Noche - Amor Eterno",stock:1},{nombre:"Enigma: Guía Espiritual",stock:1},{nombre:"Divina - Crecer",stock:1},{nombre:"Astro: Fuerza Interior",stock:1},{nombre:"Origen - Confianza",stock:1},{nombre:"Brisa - Calma",stock:1},{nombre:"Mystic - Magia",stock:1},{nombre:"Energía - Expansión",stock:1},{nombre:"Brillo Iluminación",stock:1},{nombre:"Cosmos - Conexón",stock:1},{nombre:"Eclipse - Unión",stock:1}]},"Bombita Defumación x4":{precio:1800,aromas:[{nombre:"7 Hierbas Copal",stock:2},{nombre:"7 Elementos Puros",stock:1},{nombre:"abre caminos",stock:1},{nombre:"defumación completa",stock:1},{nombre:"atrae dinero",stock:1},{nombre:"destrabe",stock:1},{nombre:"limpieza energética",stock:1},{nombre:"palo santo",stock:1},{nombre:"7 poderes",stock:1},{nombre:"abundancia infinita",stock:1},{nombre:"limpieza aurica",stock:1},{nombre:"atracción mística",stock:1}]},"Bombita Herbal x4":{precio:1800,aromas:[{nombre:"fortuna",stock:2},{nombre:"amor",stock:1},{nombre:"armonía",stock:1},{nombre:"renacer",stock:1},{nombre:"7 poderes",stock:1},{nombre:"destrabar",stock:1},{nombre:"purificar",stock:1},{nombre:"protección",stock:1}]},"Bombita Defumación x8":{precio:1800,aromas:[{nombre:"Yagra - Canela",stock:2},{nombre:"benjuí - almizcle",stock:1},{nombre:"limpieza energética",stock:1},{nombre:"7 elementos puros",stock:1},{nombre:"mirra - incienso",stock:1},{nombre:"palo santo",stock:1},{nombre:"7 hierbas copal",stock:1},{nombre:"estoraque",stock:1}]},"Bombita Defumación Premium x8":{precio:1800,aromas:[{nombre:"olíbano - lavanda",stock:2},{nombre:"olíbano - naranja",stock:1},{nombre:"olíbano - salvia",stock:1},{nombre:"olíbano - sándalo",stock:1},{nombre:"olíbano - palo santo",stock:1},{nombre:"olíbano - rosas",stock:1},{nombre:"olíbano - canela",stock:1},{nombre:"olíbano - manzanilla",stock:1}]},"Bomba Herbal XL":{precio:1800,aromas:[{nombre:"energía limpia",stock:2},{nombre:"purificación",stock:1}]},"Bombita 7 Chakras":{precio:1800,aromas:[{nombre:"Bombita 7 Chakras",stock:2}]},"Bombita de Defumación Activada x25":{precio:1800,aromas:[{nombre:"7 hierbas copal",stock:2},{nombre:"7 poderes",stock:3},{nombre:"abre caminos",stock:3},{nombre:"atracción mística",stock:3},{nombre:"atrae dinero",stock:3},{nombre:"defumación completa",stock:3},{nombre:"destrabe",stock:3},{nombre:"fuerza infinita",stock:3},{nombre:"limpieza aurica",stock:3},{nombre:"limpieza energética",stock:3},{nombre:"palo santo",stock:3}]},Cosmos:{precio:1800,aromas:[{nombre:"Cosmos",stock:3}]},"Bombita Ritual":{precio:1800,aromas:[{nombre:"abundancia",stock:1},{nombre:"amor propio",stock:1},{nombre:"brillar",stock:1},{nombre:"ritual del cacao",stock:1},{nombre:"empoderamiento",stock:1},{nombre:"fuerza interior",stock:1},{nombre:"gratitud",stock:1},{nombre:"limpieza energética",stock:1},{nombre:"luna llena",stock:1},{nombre:"manifestar",stock:1},{nombre:"purificación",stock:1},{nombre:"tranquilidad",stock:1}]},"Kits Surtidos":{precio:1800,aromas:[{nombre:"Kit pétalos de amor",stock:1},{nombre:"kit limpieza energética",stock:1},{nombre:"kit turmalina",stock:1},{nombre:"kit luz",stock:1},{nombre:"kit astral",stock:1}]},"kit herbal":{precio:1800,aromas:[{nombre:"prosperidad",stock:1},{nombre:"protección y sanación",stock:1},{nombre:"relajación y armonización",stock:1},{nombre:"purificación",stock:1}]},"kit humito sagrado":{precio:1800,aromas:[{nombre:"7 energía",stock:1},{nombre:"armonía",stock:1},{nombre:"prosperidad",stock:1},{nombre:"energía limpia",stock:1},{nombre:"purificación",stock:1},{nombre:"amor y unión",stock:1},{nombre:"protección",stock:1}]},"incienso en polvo":{precio:1800,aromas:[{nombre:"Sándalo",stock:1},{nombre:"limpieza energética",stock:1},{nombre:"palo santo",stock:1},{nombre:"7 poderes",stock:1},{nombre:"rosas",stock:1},{nombre:"jazmín",stock:1},{nombre:"citronella - naranja",stock:1},{nombre:"vainilla - incienso",stock:1},{nombre:"yagra - madera de oriente",stock:1},{nombre:"benjui - estoraque",stock:1},{nombre:"alcanfor - laurel",stock:1},{nombre:"lavanda",stock:1}]},"pirámide energética":{precio:1800,aromas:[{nombre:"rosas",stock:1},{nombre:"yagra - incienso",stock:1},{nombre:"olíbano puro",stock:1},{nombre:"7 hierbas olíbano",stock:1},{nombre:"4 poderes",stock:1},{nombre:"canela - olíbano",stock:1},{nombre:"manzanilla - olíbano",stock:1},{nombre:"romero - olíbano",stock:1},{nombre:"citronella - caléndula - ruda",stock:1}]},"incienso en cono":{precio:1800,aromas:[{nombre:"caléndula - romero",stock:1},{nombre:"pachuli - palo santo",stock:1},{nombre:"pétalos de rosas",stock:1},{nombre:"sándalo - yagra",stock:1},{nombre:"canela - vainilla",stock:1},{nombre:"sándalo - copal",stock:1},{nombre:"citronela - naranja",stock:1},{nombre:"ambar - naranja",stock:1},{nombre:"lavanda - flores violetas",stock:1},{nombre:"té verde",stock:1},{nombre:"ruda - romero",stock:1},{nombre:"flor de champa",stock:1}]},"geometría sagrada":{precio:1800,aromas:[{nombre:"benjui - yagra",stock:1},{nombre:"incienso - ambar",stock:1},{nombre:"rosas - incienso",stock:1},{nombre:"sándalo",stock:1},{nombre:"palo santo - mirra",stock:1},{nombre:"31 hierbas",stock:1}]},"pastillas de defumación x4":{precio:1800,aromas:[{nombre:"incienso",stock:1},{nombre:"salvia blanca",stock:1},{nombre:"ruda",stock:1},{nombre:"lavanda",stock:1},{nombre:"anís - canela - romero",stock:1},{nombre:"palo santo",stock:1}]},"siete días de limpieza":{precio:1800,aromas:[{nombre:"limpieza surtidas",stock:2},{nombre:"sándalo - yagra",stock:1},{nombre:"copal - vainilla",stock:1},{nombre:"mirra - benjuí",stock:1},{nombre:"rosa - lavanda",stock:1},{nombre:"incienso sándalo",stock:1}]},"Sahumitos x5":{precio:1800,aromas:[{nombre:"7 hierbas",stock:2},{nombre:"canela - anís",stock:1},{nombre:"palo santo",stock:1},{nombre:"sándalo",stock:1},{nombre:"incienso",stock:1},{nombre:"naranja - citronella",stock:1},{nombre:"estoraque - alcanfor",stock:1},{nombre:"ruda",stock:1},{nombre:"salvia blanca",stock:1},{nombre:"rosas",stock:1},{nombre:"mirra - palo santo",stock:1},{nombre:"hierbas y maderas",stock:1},{nombre:"resinas y especias",stock:1},{nombre:"flores aromáticas",stock:1},{nombre:"copal",stock:1},{nombre:"blanco yagra",stock:1},{nombre:"romero",stock:1},{nombre:"calendula - manzanilla",stock:1}]},"sahumito x1":{precio:1800,aromas:[{nombre:"7 hierbas",stock:2},{nombre:"canela - anís",stock:1},{nombre:"copal",stock:1},{nombre:"palo santo",stock:1},{nombre:"sándalo",stock:1},{nombre:"naranja - citronella",stock:1},{nombre:"rosas",stock:1},{nombre:"ruda",stock:1},{nombre:"salvia blanca",stock:1},{nombre:"blanco yagra",stock:1},{nombre:"estoraque - alcanfor",stock:1},{nombre:"incienso",stock:1},{nombre:"mirra - palo santo",stock:1},{nombre:"romero",stock:1}]},"sahumos medianos y grandes":{precio:1800,aromas:[{nombre:"10 hierbas",stock:2},{nombre:"copal",stock:1},{nombre:"mirra - palo santo",stock:1},{nombre:"lavanda",stock:1},{nombre:"limpieza energética",stock:1},{nombre:"sándalo",stock:1},{nombre:"salvia",stock:1}]},"Palo Santo stick":{precio:1800,aromas:[{nombre:"blend herbal",stock:1}]},"perlas aromáticas en saquitos":{precio:1800,aromas:[{nombre:"jazmín",stock:2},{nombre:"lavanda",stock:1},{nombre:"rosas",stock:1},{nombre:"limón",stock:1}]},"perlas aromáticas en caja":{precio:1800,aromas:[{nombre:"vainilla",stock:2},{nombre:"frutilla",stock:1},{nombre:"jazmín",stock:1},{nombre:"lavanda",stock:1},{nombre:"rosas",stock:1},{nombre:"flores",stock:1},{nombre:"coco",stock:1},{nombre:"primavera",stock:1},{nombre:"limón",stock:1},{nombre:"hindu",stock:1},{nombre:"reina de la noche",stock:1},{nombre:"sándalo",stock:1}]},"cristales de luz":{precio:1800,aromas:[{nombre:"vainilla - orquídeas negras",stock:2},{nombre:"flor de champa",stock:1},{nombre:"laurel y orquídeas",stock:1},{nombre:"violeta - lavanda",stock:1}]},"aceite esencial de oleum":{precio:1800,aromas:[{nombre:"revitalizante",stock:2},{nombre:"relajante",stock:1},{nombre:"armonía",stock:1},{nombre:"purificación",stock:1},{nombre:"equilibrio",stock:1},{nombre:"limpieza energética",stock:1},{nombre:"calma",stock:1},{nombre:"energía renovada",stock:1},{nombre:"afrodisíaco",stock:1},{nombre:"concentración",stock:1},{nombre:"incienso",stock:1}]},"esencias para hornillo":{precio:1800,aromas:[{nombre:"rosas",stock:2},{nombre:"vainilla",stock:1},{nombre:"lavanda",stock:1},{nombre:"coco",stock:1},{nombre:"jazmín",stock:1},{nombre:"incienso",stock:1},{nombre:"mirra",stock:1},{nombre:"peras y flores blancas",stock:1},{nombre:"limón",stock:1},{nombre:"sándalo",stock:1}]},"Hiervas en sobre":{precio:1800,aromas:[{nombre:"caléndula",stock:2},{nombre:"lemongrass",stock:1},{nombre:"contrayerba",stock:1},{nombre:"ruda",stock:1},{nombre:"eucalipto",stock:1},{nombre:"lavanda",stock:1},{nombre:"rosa",stock:1},{nombre:"romero",stock:1},{nombre:"salvia",stock:1},{nombre:"manzanilla",stock:1},{nombre:"jarilla",stock:1},{nombre:"té verde",stock:1},{nombre:"naranja",stock:1},{nombre:"laurel",stock:1}]},"hiervas y resinas por kilo":{precio:1800,aromas:[{nombre:"sangre de drago",stock:2},{nombre:"lavanda premium",stock:1},{nombre:"mirra",stock:1},{nombre:"sándalo",stock:1},{nombre:"estoraque premium",stock:1}]},"Bomba carbón x12":{precio:1800,aromas:[{nombre:"lavanda",stock:2},{nombre:"incienso",stock:1},{nombre:"yagra",stock:1},{nombre:"citronella - naranja",stock:1},{nombre:"limpieza energética",stock:1},{nombre:"7 poderes",stock:1}]},"Bomba carbón x24":{precio:1800,aromas:[{nombre:"citronella - naranja",stock:2},{nombre:"limpieza energética",stock:1},{nombre:"incienso",stock:1},{nombre:"yagra",stock:1},{nombre:"lavnada",stock:1},{nombre:"7 poderes",stock:1}]},"Carbón redondo neutro":{precio:1800,aromas:[{nombre:"Carbón Redondo Neutro",stock:2}]}}},productos=[];for(const[o,e]of Object.entries(catalogo))for(const[a,r]of Object.entries(e)){const e=`../../build/img/${normalizarTexto(o)}-${normalizarTexto(a)}.jpg`;productos.push({imagen:e,marca:o,linea:a,precio:`<span>$</span>${r.precio}`,id:`${o}-${a}`.replace(/\s+/g,"-").toLowerCase()})}console.log(productos),window.productos=productos,window.catalogo=catalogo,window.carrito||(window.carrito=JSON.parse(localStorage.getItem("carrito"))||[]);const carritoIcono=document.querySelector(".carrito-icono"),carritoDesplegable=document.querySelector(".carrito-desplegable"),carritoItems=document.querySelector(".carrito-items"),carritoContador=document.querySelector(".carrito-contador"),carritoTotal=document.querySelector(".carrito-total span"),botonComprar=document.querySelector(".boton-comprar"),botonVaciar=document.querySelector(".boton-vaciar"),cerrarCarritoBtn=document.querySelector(".cerrar-carrito"),carritoOverlay=document.querySelector(".carrito-overlay");function toggleCarrito(){carritoDesplegable.classList.contains("active")?cerrarCarrito():(carritoDesplegable.classList.add("active"),carritoOverlay.style.display="block",setTimeout((()=>{carritoOverlay.style.opacity="1"}),10),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",carritoDesplegable.style.overflowY="auto")}function cerrarCarrito(){carritoDesplegable.classList.remove("active"),carritoOverlay.style.opacity="0",document.body.style.overflow="",document.documentElement.style.overflow="",carritoDesplegable.style.overflowY="",setTimeout((()=>{carritoOverlay.style.display="none"}),300)}function actualizarCarrito(){carritoItems.innerHTML="";let o=0;carrito.forEach(((e,a)=>{const r=productos.find((o=>o.id===e.id));if(r){const t=parseInt(r.precio.replace(/[^0-9]/g,""))*e.cantidad;o+=t;const n=document.createElement("div");n.classList.add("carrito-item"),n.innerHTML=`\n                <div class="carrito-item-info">\n                    <h4>${r.linea} - ${r.marca}</h4>\n                    <p>${e.aroma} x ${e.cantidad}</p>\n                    <p>$${t}</p>\n                </div>\n                <button class="eliminar-item" data-index="${a}">&times;</button>\n            `,carritoItems.appendChild(n)}})),carritoTotal.textContent=`$${o}`,carritoContador.textContent=carrito.reduce(((o,e)=>o+e.cantidad),0),localStorage.setItem("carrito",JSON.stringify(carrito));const e=document.querySelector('.boton-siguiente[data-paso="2"]');e&&(e.disabled=0===carrito.length),document.querySelectorAll(".eliminar-item").forEach((o=>{o.addEventListener("click",(o=>{const e=o.target.getAttribute("data-index");carrito.splice(e,1),actualizarCarrito()}))}))}function agregarAlCarrito(){if(!window.idProductoActual||!window.aromasSeleccionados)return;const o=window.productos.find((o=>o.id===window.idProductoActual));o&&(Object.entries(window.aromasSeleccionados).forEach((([e,a])=>{if(a<=0)return;const r=window.carrito.findIndex((o=>o.id===window.idProductoActual&&o.aroma===e));r>=0?window.carrito[r].cantidad+=a:window.carrito.push({id:window.idProductoActual,marca:o.marca,linea:o.linea,aroma:e,cantidad:a,precio:o.precio,precioNumerico:parseInt(o.precio.replace(/[^0-9]/g,""))})})),actualizarCarrito())}async function comprar(){const o=document.querySelector(".boton-pagar");try{if(!window.carrito||0===window.carrito.length)return void mostrarNotificacion("Tu carrito está vacío","error");const e=document.getElementById("nombre")?.value.trim(),a=document.getElementById("email")?.value.trim(),r=document.getElementById("telefono")?.value.trim();if(!e||e.length<5)return void mostrarNotificacion("Nombre debe tener al menos 5 caracteres","error");if(!a||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return void mostrarNotificacion("Ingresa un email válido","error");if(!r||!/^\d{10}$/.test(r))return void mostrarNotificacion("Teléfono debe tener 10 dígitos","error");o&&(o.disabled=!0,o.innerHTML='<span class="spinner"></span> Procesando...');const t=window.carrito.map((o=>{const e=o.precioNumerico||parseInt(o.precio?.replace(/[^0-9]/g,""))||0;if(e<=0)throw new Error(`El producto ${o.linea} - ${o.aroma} no tiene precio válido`);return{id:o.id||`prod_${Math.random().toString(36).substr(2,5)}`,title:`${o.linea||"Producto"} - ${o.aroma||"Sin aroma"}`.substring(0,50),unit_price:e,quantity:Number(o.cantidad)||1,currency_id:"ARS",description:`Producto: ${o.linea}, Aroma: ${o.aroma}`,linea:o.linea,aroma:o.aroma}})),n={name:e,email:a,phone:{area_code:r.substring(0,2)||"11",number:r.substring(2)||r},address:{street_name:document.getElementById("calle")?.value.trim()||"",street_number:document.getElementById("altura")?.value.trim()||"",zip_code:document.getElementById("codigo-postal")?.value.trim()||""}};console.log("Enviando a API:",{items:t,payer:n});const c=await fetch("http://localhost:3001/api/create-preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t,payer:n})});if(!c.ok){const o=await c.json();throw new Error(o.error||"Error al procesar el pago")}const s=await c.json();if(!s.id||!s.init_point&&!s.sandbox_init_point)throw new Error("No se recibió URL de pago válida del servidor");window.location.href=s.sandbox_init_point}catch(o){console.error("Error en proceso de compra:",o),mostrarNotificacion(o.message||"Error al procesar el pago","error")}finally{o&&(o.disabled=!1,o.innerHTML="Finalizar Compra")}}function vaciarCarrito(){carrito=[],actualizarCarrito()}if(carritoIcono&&carritoIcono.addEventListener("click",toggleCarrito),botonComprar&&botonComprar.addEventListener("click",comprar),botonVaciar&&botonVaciar.addEventListener("click",vaciarCarrito),cerrarCarritoBtn&&cerrarCarritoBtn.addEventListener("click",cerrarCarrito),carritoOverlay&&carritoOverlay.addEventListener("click",(o=>{o.preventDefault(),cerrarCarrito()})),document.querySelector(".boton-pagar")?.addEventListener("click",(async o=>{o.preventDefault(),await comprar()})),localStorage.getItem("datosCliente")){const o=JSON.parse(localStorage.getItem("datosCliente"));if(o.nombre&&""!==o.nombre.trim()&&(document.getElementById("nombre").value=o.nombre),o.email&&""!==o.email.trim()&&(document.getElementById("email").value=o.email),o.telefono&&""!==o.telefono.trim()&&(document.getElementById("telefono").value=o.telefono),o.direccion){const e=o.direccion;e.calle&&""!==e.calle.trim()&&(document.getElementById("calle").value=e.calle),e.altura&&""!==e.altura.trim()&&(document.getElementById("altura").value=e.altura),e.entreCalles&&""!==e.entreCalles.trim()&&(document.getElementById("entre-calles").value=e.entreCalles),e.localidad&&""!==e.localidad.trim()&&(document.getElementById("localidad").value=e.localidad),e.codigoPostal&&""!==e.codigoPostal.trim()&&(document.getElementById("codigo-postal").value=e.codigoPostal)}}function guardarDatosFormulario(){const o={nombre:document.getElementById("nombre").value.trim(),email:document.getElementById("email").value.trim(),telefono:document.getElementById("telefono").value.trim(),direccion:{calle:document.getElementById("calle").value.trim(),altura:document.getElementById("altura").value.trim(),entreCalles:document.getElementById("entre-calles").value.trim(),localidad:document.getElementById("localidad").value.trim(),codigoPostal:document.getElementById("codigo-postal").value.trim()}};Object.values(o).some((o=>""!==o))||Object.values(o.direccion).some((o=>""!==o))?localStorage.setItem("datosCliente",JSON.stringify(o)):localStorage.removeItem("datosCliente")}function validarFormulario(){const o=document.getElementById("nombre"),e=document.getElementById("email"),a=document.getElementById("telefono"),r=document.getElementById("calle"),t=document.getElementById("altura"),n=document.getElementById("localidad");return!!(o.value.length>=5&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)&&/^\d{10}$/.test(a.value)&&r.value.length>=3&&t.value.length>=1&&n.value.length>=3)||(mostrarNotificacion("Verifica los campos obligatorios","error"),!1)}function generarResumen(){let o=0;document.querySelector(".resumen-productos").innerHTML=window.carrito.map((e=>{const a=e.precioNumerico*e.cantidad;return o+=a,`\n            <div class="resumen-item">\n                <p>${e.linea} - ${e.aroma} x${e.cantidad}</p>\n                <p>$${a}</p>\n            </div>\n        `})).join(""),document.getElementById("total-resumen").textContent=`$${o}`;const e={nombre:document.getElementById("nombre").value.trim(),email:document.getElementById("email").value.trim(),telefono:document.getElementById("telefono").value.trim(),direccion:{calle:document.getElementById("calle").value.trim(),altura:document.getElementById("altura").value.trim(),entreCalles:document.getElementById("entre-calles").value.trim(),localidad:document.getElementById("localidad").value.trim(),codigoPostal:document.getElementById("codigo-postal").value.trim()}};document.getElementById("resumen-nombre").textContent=e.nombre||"No especificado",document.getElementById("resumen-email").textContent=e.email||"No especificado",document.getElementById("resumen-telefono").textContent=e.telefono||"No especificado",document.getElementById("resumen-calle").textContent=e.direccion.calle||"No especificado",document.getElementById("resumen-altura").textContent=e.direccion.altura||"No especificado",document.getElementById("resumen-entre-calles").textContent=e.direccion.entreCalles||"No especificado",document.getElementById("resumen-localidad").textContent=e.direccion.localidad||"No especificado",document.getElementById("resumen-codigo-postal").textContent=e.direccion.codigoPostal||"No especificado",guardarDatosFormulario()}function validarCampo(o){if(!o)return!1;const e=o.nextElementSibling;if(!e)return!1;let a=!0;return"nombre"===o.id&&(a=o.value.length>=5),"email"===o.id&&(a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value)),"telefono"===o.id&&(a=/^\d{10}$/.test(o.value)),o.classList&&o.classList.toggle("invalido",!a),e.style&&(e.style.display=a?"none":"block"),a}function cambiarPaso(o){document.querySelectorAll(".carrito-paso").forEach((o=>{o.classList.remove("mostrar-paso")}));const e=document.querySelector(`.carrito-paso-${o}`);e&&e.classList.add("mostrar-paso"),document.querySelectorAll(".paso").forEach((o=>{o.classList.remove("activo")}));const a=document.querySelector(`.paso-${o}`);a&&a.classList.add("activo")}document.querySelector(".boton-pagar")?.addEventListener("click",(o=>{o.preventDefault(),comprar()})),document.querySelectorAll(".boton-siguiente, .boton-anterior").forEach((o=>{o.addEventListener("click",(e=>{e.preventDefault(),cambiarPaso(o.dataset.paso),"3"!==o.dataset.paso||validarFormulario()?"3"===o.dataset.paso&&generarResumen():cambiarPaso("2")}))}));const formDatos=document.getElementById("datos-entrega");formDatos&&formDatos.addEventListener("submit",(o=>{if(o.preventDefault(),0===carrito.length)return mostrarNotificacion("Debes agregar al menos un producto para continuar","error"),void cambiarPaso("1");validarFormulario()&&(generarResumen(),cambiarPaso("3"))})),document.querySelectorAll("#datos-entrega input").forEach((o=>{o.addEventListener("blur",(function(){validarCampo(this),guardarDatosFormulario()})),o.addEventListener("input",(function(){""===this.value.trim()&&guardarDatosFormulario()}))})),document.querySelector(".carrito-desplegable")?.addEventListener("click",(o=>{if(o.target.classList.contains("boton-siguiente")){o.preventDefault();const e=o.target.dataset.paso;if("2"===e&&0===carrito.length)return void mostrarNotificacion("Debes agregar al menos un producto para continuar","error");if("3"===e){if(0===carrito.length)return mostrarNotificacion("Debes agregar al menos un producto para continuar","error"),void cambiarPaso("1");if(!validarFormulario())return void mostrarNotificacion("Por favor completa todos los campos requeridos","error");generarResumen()}cambiarPaso(e)}o.target.classList.contains("boton-anterior")&&(o.preventDefault(),cambiarPaso(o.target.dataset.paso))})),document.querySelectorAll("#datos-entrega input").forEach((o=>{o.addEventListener("input",(()=>{if(""===o.value){const e=localStorage.getItem("datosCliente")?JSON.parse(localStorage.getItem("datosCliente")):{};"calle"===o.id||"altura"===o.id||"entre-calles"===o.id||"localidad"===o.id||"codigo-postal"===o.id?e.direccion&&(delete e.direccion[o.id],localStorage.setItem("datosCliente",JSON.stringify(e))):(delete e[o.id],localStorage.setItem("datosCliente",JSON.stringify(e)))}})),o.addEventListener("blur",(()=>{if(""!==o.value){const e=localStorage.getItem("datosCliente")?JSON.parse(localStorage.getItem("datosCliente")):{};"calle"===o.id||"altura"===o.id||"entre-calles"===o.id||"localidad"===o.id||"codigo-postal"===o.id?(e.direccion||(e.direccion={}),e.direccion[o.id]=o.value):e[o.id]=o.value,localStorage.setItem("datosCliente",JSON.stringify(e))}}))})),document.querySelectorAll(".carrito-btn").forEach((o=>{o.addEventListener("click",(function(o){if(this.classList.contains("carrito-btn--primary")||this.classList.contains("carrito-btn--secondary")){const e=this.getBoundingClientRect(),a=o.clientX-e.left,r=o.clientY-e.top,t=document.createElement("span");t.classList.add("carrito-btn-ripple"),t.style.left=`${a}px`,t.style.top=`${r}px`,this.appendChild(t),setTimeout((()=>{t.remove()}),600)}}))})),document.querySelector(".carrito-desplegable")?.addEventListener("wheel",(function(o){(0===this.scrollTop&&o.deltaY<0||this.scrollHeight-this.scrollTop===this.clientHeight&&o.deltaY>0)&&o.preventDefault()}),{passive:!1});let startY=0;document.addEventListener("touchstart",(function(o){carritoDesplegable.classList.contains("active")&&(startY=o.touches[0].clientY)}),{passive:!0}),document.addEventListener("touchmove",(function(o){carritoDesplegable.classList.contains("active")&&(0===carritoDesplegable.scrollTop&&o.touches[0].clientY>startY||carritoDesplegable.scrollHeight-carritoDesplegable.scrollTop===carritoDesplegable.clientHeight&&o.touches[0].clientY<startY)&&o.preventDefault()}),{passive:!1}),document.addEventListener("DOMContentLoaded",(()=>{window.productos||(console.warn("Productos no está definido"),window.productos=[]),window.carrito||(window.carrito=JSON.parse(localStorage.getItem("carrito"))||[]);const o=document.querySelector(".carrito-icono");o&&o.addEventListener("click",toggleCarrito);const e=document.querySelectorAll('input[name="opcion"]');e.length>0&&e.forEach((o=>{o.addEventListener("change",(o=>{datosBusqueda.marca=o.target.value,filtrarProductos()}))}));document.querySelector(".caja-productos")&&mostrarProductos(window.productos),actualizarCarrito()})),void 0===productos&&console.error("Error: productos no está definido");const cajaProductos=document.querySelector(".caja-productos")||null,todo=document.querySelector("#todo"),satya=document.querySelector("#satya"),sagradaMadre=document.querySelector("#sagrada-madre"),aromanza=document.querySelector("#aromanza"),datosBusqueda={marca:""};function mostrarProductos(o){limpiarHTML(),o&&0!==o.length?(o.forEach((o=>{const e=document.createElement("div");e.classList.add("producto"),e.innerHTML=`\n            <img src="${o.imagen}" alt="${o.linea} - ${o.marca}" \n                 onerror="this.onerror=null; this.src='../build/img/producto-default.jpg'">\n            <div class="datos">\n                <div class="linea-precio">\n                    <h3>${o.linea}</h3>\n                    <p>${o.precio}</p>\n                </div>\n                <button class="ver-producto" data-id="${o.id}">Ver</button>\n            </div>\n        `,cajaProductos.appendChild(e)})),document.querySelectorAll(".ver-producto").forEach((e=>{e.addEventListener("click",(e=>{const a=e.target.getAttribute("data-id"),r=o.find((o=>o.id===a));r&&abrirModal(r)}))}))):cajaProductos.innerHTML='<div class="sin-productos"><p>No se encontraron productos</p></div>'}function filtrarProductos(){mostrarProductos(datosBusqueda.marca?productos.filter((o=>o.marca===datosBusqueda.marca)):[...productos])}function limpiarHTML(){if(cajaProductos)for(;cajaProductos.firstChild;)cajaProductos.removeChild(cajaProductos.firstChild);else console.error("cajaProductos no está definido")}const modal=document.getElementById("producto-modal"),modalImagen=document.getElementById("modal-imagen"),modalLinea=document.getElementById("modal-linea"),modalMarca=document.getElementById("modal-marca"),modalPrecio=document.getElementById("modal-precio"),modalListaAromas=document.getElementById("modal-lista-aromas"),cerrarModalBtn=document.querySelector(".cerrar-modal");function abrirModal(o){modal?(modal.classList.add("active"),document.body.style.overflow="hidden",window.scrollPosition=window.pageYOffset,document.body.style.top=`-${window.scrollPosition}px`,document.body.classList.add("body-scroll-lock"),window.idProductoActual=o.id,window.aromasSeleccionados={},modalImagen.onerror=()=>{modalImagen.src="build/img/producto-default.jpg"},modalImagen.src=o.imagen,modalLinea.textContent=o.linea,modalMarca.textContent=o.marca,modalPrecio.innerHTML=o.precio,actualizarModalAromas(o),setupCarritoButton(),modal.style.display="flex",console.log("Modal abierto correctamente para:",o.linea)):console.error("Modal no encontrado en el DOM")}function cerrarModal(){modal&&(modal.classList.remove("active"),modal.style.display="none",document.body.classList.remove("body-scroll-lock"),document.body.style.overflow="",void 0!==window.scrollPosition&&window.scrollTo(0,window.scrollPosition),document.body.style.top="")}function actualizarModalAromas(o){const e=catalogo[o.marca][o.linea];modalListaAromas.innerHTML="",e.aromas.forEach((o=>{const e=document.createElement("div");e.className="aroma-item "+(0===o.stock?"aroma-sin-stock":"");const a=document.createElement("span");a.textContent=o.nombre;const r=document.createElement("div");r.className="contador-cantidad";const t=document.createElement("button");t.textContent="-",t.disabled=!0;const n=document.createElement("span");n.textContent="0",n.className="cantidad-aroma",n.dataset.aroma=o.nombre;const c=document.createElement("button");c.textContent="+",c.disabled=0===o.stock;const s=()=>{const e=parseInt(n.textContent);t.disabled=e<=0,c.disabled=e>=o.stock};if(o.stock>0)t.addEventListener("click",(()=>{const e=parseInt(n.textContent);e>0&&(n.textContent=e-1,actualizarAromasSeleccionados(o.nombre,e-1),s())})),c.addEventListener("click",(()=>{const e=parseInt(n.textContent);e<o.stock&&(n.textContent=e+1,actualizarAromasSeleccionados(o.nombre,e+1),s())}));else{const o=document.createElement("span");o.textContent=" (Sin stock)",o.className="texto-sin-stock",a.appendChild(o)}r.appendChild(t),r.appendChild(n),r.appendChild(c),e.appendChild(a),e.appendChild(r),modalListaAromas.appendChild(e)}))}function actualizarAromasSeleccionados(o,e){e>0?aromasSeleccionados[o]=e:delete aromasSeleccionados[o],console.log("Aromas seleccionados:",aromasSeleccionados)}function setupCarritoButton(){const o=document.getElementById("btn-agregar-carrito");if(!o)return void console.warn('Botón "btn-agregar-carrito" no encontrado');const e=o.cloneNode(!0);o.parentNode.replaceChild(e,o),e.addEventListener("click",handleAgregarAlCarrito),console.log("Botón de carrito configurado correctamente")}function handleAgregarAlCarrito(){if(!window.aromasSeleccionados||0===Object.keys(window.aromasSeleccionados).length)return void mostrarNotificacion("Por favor selecciona al menos un aroma","error");if(!window.agregarAlCarrito)return console.error("La función agregarAlCarrito no está definida"),void mostrarNotificacion("Error al agregar al carrito","error");Object.values(window.aromasSeleccionados).some((o=>o>0))?(window.agregarAlCarrito(),modal&&cerrarModal(),mostrarNotificacion("Productos añadidos al carrito")):mostrarNotificacion("Las cantidades deben ser mayores a cero","error")}function initNavScroll(){const o=document.querySelector("nav");if(!o)return;o.classList.add("nav-visible");let e=0;let a=!0;function r(){if(!a)return;const r=window.pageYOffset;if(r<=10)return o.classList.remove("nav-hidden","scrolled"),void o.classList.add("nav-visible");r>50?o.classList.add("scrolled"):o.classList.remove("scrolled"),r>e&&r>100?(o.classList.remove("nav-visible"),o.classList.add("nav-hidden")):r<e&&(o.classList.remove("nav-hidden"),o.classList.add("nav-visible")),e=r}r(),window.addEventListener("scroll",r,{passive:!0});const t=document.querySelector(".carrito-desplegable");if(t){new MutationObserver((e=>{a=!t.classList.contains("active"),a||(o.classList.remove("nav-hidden"),o.classList.add("nav-visible"))})).observe(t,{attributes:!0,attributeFilter:["class"]})}}cerrarModalBtn&&cerrarModalBtn.addEventListener("click",cerrarModal),modal&&modal.addEventListener("click",(o=>{o.target===modal&&cerrarModal()})),cerrarModalBtn&&cerrarModalBtn.addEventListener("click",cerrarModal),modal&&modal.addEventListener("click",(o=>{o.target===modal&&cerrarModal()})),"undefined"!=typeof module&&module.exports?module.exports={initNavScroll:initNavScroll}:window.initNavScroll=initNavScroll,document.addEventListener("DOMContentLoaded",(()=>{window.productos||(window.productos=[]),window.carrito||(window.carrito=JSON.parse(localStorage.getItem("carrito"))||[]),window.aromasSeleccionados||(window.aromasSeleccionados={}),"function"==typeof actualizarCarrito&&actualizarCarrito(),"function"==typeof initNavScroll&&initNavScroll()}));
//# sourceMappingURL=bundle.min.js.map
